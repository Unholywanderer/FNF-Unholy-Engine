[gd_scene load_steps=8 format=3 uid="uid://dom5tyfk1in3q"]

[ext_resource type="Script" uid="uid://c7lvju4x5a3pa" path="res://game/scenes/debug/CharacterOffsetter.gd" id="1_q8ujq"]
[ext_resource type="Texture2D" uid="uid://dave1imbc216x" path="res://assets/images/leGrid.png" id="3_0k3qt"]
[ext_resource type="Shader" uid="uid://bh2xopks8xxis" path="res://game/resources/shaders/scroll.gdshader" id="3_f84mi"]
[ext_resource type="Texture2D" uid="uid://daba84ejgj2x1" path="res://assets/images/ui/cross.png" id="4_7buq4"]
[ext_resource type="FontFile" uid="uid://dnssbi7hjccim" path="res://assets/fonts/vcr.ttf" id="4_e8b0o"]
[ext_resource type="Script" uid="uid://ba5ivc6samb40" path="res://game/objects/ui/Icon.gd" id="5_36ais"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_3m81g"]
shader = ExtResource("3_f84mi")
shader_parameter/direction = Vector2(1, 1)
shader_parameter/speed_scale = 0.05

[node name="CharacterOffsetting" type="Node2D"]
script = ExtResource("1_q8ujq")

[node name="Backdrop" type="Sprite2D" parent="."]
texture_repeat = 2
material = SubResource("ShaderMaterial_3m81g")
position = Vector2(634, 364)
texture = ExtResource("3_0k3qt")
region_enabled = true
region_rect = Rect2(0, 0, 1300, 800)

[node name="UILayer" type="CanvasLayer" parent="."]

[node name="Icon" type="Sprite2D" parent="UILayer"]
unique_name_in_owner = true
position = Vector2(24, 572)
script = ExtResource("5_36ais")

[node name="Highlight" type="ColorRect" parent="UILayer/Icon"]
show_behind_parent = true
custom_minimum_size = Vector2(105, 105)
offset_left = -17.0
offset_top = 32.0
offset_right = 88.0
offset_bottom = 137.0
color = Color(0, 1, 0, 0.392157)

[node name="Lowlight" type="ColorRect" parent="UILayer/Icon"]
show_behind_parent = true
custom_minimum_size = Vector2(105, 105)
offset_left = 88.0
offset_top = 32.0
offset_right = 193.0
offset_bottom = 137.0
color = Color(1, 1, 0, 0.392157)

[node name="Reset" type="Button" parent="UILayer"]
modulate = Color(1, 0, 0, 1)
offset_left = 1139.0
offset_top = 344.0
offset_right = 1256.0
offset_bottom = 375.0
focus_mode = 0
text = "RESET"

[node name="Save" type="Button" parent="UILayer"]
modulate = Color(0, 1, 1, 1)
offset_left = 956.0
offset_top = 345.0
offset_right = 1073.0
offset_bottom = 376.0
focus_mode = 0
text = "SAVE Json"

[node name="ResPath" type="TextEdit" parent="UILayer"]
clip_contents = false
offset_left = 721.0
offset_top = 673.0
offset_right = 950.0
offset_bottom = 705.0
focus_mode = 1
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 15
placeholder_text = "characters/..."
context_menu_enabled = false
emoji_menu_enabled = false
scroll_fit_content_height = true

[node name="Label" type="Label" parent="UILayer/ResPath"]
layout_mode = 0
offset_left = 3.0
offset_top = -24.0
offset_right = 225.0
offset_bottom = -1.0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 13
text = ".res File (starts in images/)"
vertical_alignment = 1

[node name="Main" type="ColorRect" parent="UILayer"]
custom_minimum_size = Vector2(300, 300)
offset_left = 956.0
offset_top = 15.0
offset_right = 1256.0
offset_bottom = 335.0
color = Color(0.194349, 0.194349, 0.194349, 1)

[node name="Shadow" type="Panel" parent="UILayer/Main"]
show_behind_parent = true
layout_mode = 0
offset_left = -238.0
offset_right = -2.0
offset_bottom = 134.0

[node name="Frame" type="HSlider" parent="UILayer/Main/Shadow"]
layout_mode = 0
offset_left = 7.0
offset_top = 108.0
offset_right = 228.0
offset_bottom = 124.0
focus_mode = 0
max_value = 10.0

[node name="Txt" type="Label" parent="UILayer/Main/Shadow/Frame"]
layout_mode = 0
offset_left = -7.0
offset_top = -28.0
offset_right = 229.0
offset_bottom = -5.0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 20
text = "Frame: 0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="AnimSelect" type="MenuButton" parent="UILayer/Main/Shadow"]
layout_mode = 0
offset_left = 41.0
offset_top = 13.0
offset_right = 199.0
offset_bottom = 44.0
theme_override_fonts/font = ExtResource("4_e8b0o")
action_mode = 1
text = "Change Animation"
flat = false

[node name="Anim" type="Label" parent="UILayer/Main/Shadow"]
layout_mode = 0
offset_top = 48.0
offset_right = 236.0
offset_bottom = 71.0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 20
text = "none"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Color" type="ColorPickerButton" parent="UILayer/Main/Shadow"]
layout_mode = 0
offset_top = 135.0
offset_right = 236.0
offset_bottom = 167.0
focus_mode = 1
mouse_default_cursor_shape = 2
text = "Shadow Color"
color = Color(0.3, 0.3, 0.3, 0.6)

[node name="Center" type="CheckBox" parent="UILayer/Main"]
visible = false
layout_mode = 0
offset_left = -224.0
offset_top = 131.0
offset_right = -17.0
offset_bottom = 162.0
focus_mode = 0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
text = "Centered Offsetting"

[node name="CharName" type="TextEdit" parent="UILayer/Main"]
clip_contents = false
layout_mode = 0
offset_left = 11.0
offset_top = 7.0
offset_right = 290.0
offset_bottom = 35.0
focus_mode = 1
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 15
placeholder_text = "Character Name"
context_menu_enabled = false
emoji_menu_enabled = false
scroll_fit_content_height = true

[node name="New" type="Button" parent="UILayer/Main"]
modulate = Color(0.176471, 1, 0.0784314, 1)
layout_mode = 0
offset_left = 172.0
offset_top = 38.0
offset_right = 289.0
offset_bottom = 69.0
focus_mode = 0
text = "NEW Json"

[node name="Anti" type="CheckBox" parent="UILayer/Main"]
layout_mode = 0
offset_left = 150.0
offset_top = 258.0
offset_right = 291.0
offset_bottom = 289.0
focus_mode = 0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
text = "Antialiasing"

[node name="FacesLeft" type="CheckBox" parent="UILayer/Main"]
layout_mode = 0
offset_left = 150.0
offset_top = 283.0
offset_right = 282.0
offset_bottom = 314.0
focus_mode = 0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
text = "Facing Left"

[node name="ScaleBox" type="SpinBox" parent="UILayer/Main"]
layout_mode = 0
offset_left = 10.0
offset_top = 268.0
offset_right = 138.0
offset_bottom = 299.0
min_value = 0.1
max_value = 10.0
step = 0.01
value = 1.0
prefix = "Scale:"

[node name="IconSelect" type="MenuButton" parent="UILayer/Main"]
layout_mode = 0
offset_left = 13.0
offset_top = 95.0
offset_right = 125.0
offset_bottom = 126.0
theme_override_fonts/font = ExtResource("4_e8b0o")
action_mode = 1
text = "Change Icon"
flat = false

[node name="CurIconLabel" type="Label" parent="UILayer/Main/IconSelect"]
layout_mode = 0
offset_top = -18.0
offset_right = 111.0
offset_bottom = -3.0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
text = "icon-bf"
vertical_alignment = 1

[node name="CharacterSelect" type="MenuButton" parent="UILayer/Main"]
layout_mode = 0
offset_left = 11.0
offset_top = 38.0
offset_right = 169.0
offset_bottom = 69.0
theme_override_fonts/font = ExtResource("4_e8b0o")
action_mode = 1
text = "Change Character"
flat = false

[node name="Pos" type="Label" parent="UILayer/Main"]
layout_mode = 0
offset_left = 10.0
offset_top = 195.0
offset_right = 151.0
offset_bottom = 218.0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 16
text = "Position Offset"

[node name="X" type="SpinBox" parent="UILayer/Main/Pos"]
layout_mode = 0
offset_top = 20.0
offset_right = 83.0625
offset_bottom = 51.0
min_value = -9999.0
max_value = 9999.0
update_on_text_changed = true

[node name="Y" type="SpinBox" parent="UILayer/Main/Pos"]
layout_mode = 0
offset_left = 90.0
offset_top = 20.0
offset_right = 177.0
offset_bottom = 51.0
min_value = -9999.0
max_value = 9999.0
update_on_text_changed = true

[node name="Cam" type="Label" parent="UILayer/Main"]
layout_mode = 0
offset_left = 10.0
offset_top = 135.0
offset_right = 151.0
offset_bottom = 158.0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 16
text = "Camera Offset"

[node name="X" type="SpinBox" parent="UILayer/Main/Cam"]
layout_mode = 0
offset_top = 20.0
offset_right = 83.0625
offset_bottom = 51.0
min_value = -9999.0
max_value = 9999.0
update_on_text_changed = true

[node name="Y" type="SpinBox" parent="UILayer/Main/Cam"]
layout_mode = 0
offset_left = 90.0
offset_top = 20.0
offset_right = 173.063
offset_bottom = 51.0
min_value = -9999.0
max_value = 9999.0
update_on_text_changed = true

[node name="Lock" type="CheckBox" parent="UILayer/Main/Cam"]
layout_mode = 0
offset_left = 179.0
offset_top = 20.0
offset_right = 282.0
offset_bottom = 51.0
tooltip_text = "Lock Camera's position to the cross"
focus_mode = 0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
text = "Lock Cam"

[node name="FileDialog" type="FileDialog" parent="UILayer/Main"]
title = "Open a File"
ok_button_text = "Open"
file_mode = 0
filters = PackedStringArray("*.res")

[node name="Animations" type="Node2D" parent="UILayer"]

[node name="CurData" type="Control" parent="UILayer"]
clip_contents = true
layout_mode = 3
anchors_preset = 0
offset_left = 432.0
offset_top = 15.0
offset_right = 681.0
offset_bottom = 182.0

[node name="Anim" type="Label" parent="UILayer/CurData"]
layout_mode = 1
anchors_preset = -1
anchor_right = 0.648
anchor_bottom = 0.14
offset_left = 1.0
offset_right = 87.648
offset_bottom = 2.62
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 25
text = "No Anim Playing"
horizontal_alignment = 1

[node name="Frame" type="Label" parent="UILayer/CurData"]
layout_mode = 0
offset_left = 1.0
offset_top = 39.0
offset_right = 249.0
offset_bottom = 88.0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 25
text = "Frame
? / ?"
horizontal_alignment = 1

[node name="Offset" type="Label" parent="UILayer/CurData"]
layout_mode = 0
offset_left = 1.0
offset_top = 106.0
offset_right = 249.0
offset_bottom = 129.0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 25
text = "[0 | 0]"
horizontal_alignment = 1

[node name="Warn" type="Label" parent="UILayer/CurData"]
visible = false
modulate = Color(1, 0, 0, 1)
layout_mode = 0
offset_left = 1.0
offset_top = 136.0
offset_right = 249.0
offset_bottom = 159.0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 20
text = "No .res file found!"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Anim" type="ColorRect" parent="UILayer"]
custom_minimum_size = Vector2(300, 320)
offset_left = 956.0
offset_top = 385.0
offset_right = 1256.0
offset_bottom = 705.0
color = Color(0.196078, 0.196078, 0.196078, 1)

[node name="AnimSpeed" type="HSlider" parent="UILayer/Anim"]
layout_mode = 0
offset_left = 74.0
offset_top = 19.0
offset_right = 289.0
offset_bottom = 35.0
focus_mode = 0
min_value = 0.5
max_value = 2.0
step = 0.1
value = 1.0

[node name="Label" type="Label" parent="UILayer/Anim/AnimSpeed"]
layout_mode = 0
offset_left = -65.0
offset_top = -4.0
offset_right = -6.0
offset_bottom = 19.0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 20
text = "Speed"
vertical_alignment = 1

[node name="Hey" type="Label" parent="UILayer/Anim/AnimSpeed"]
layout_mode = 0
offset_left = -42.0
offset_top = -16.0
offset_right = 193.0
offset_bottom = 2.0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 10
text = "Only for editor! Does NOT apply in game!"
vertical_alignment = 1

[node name="Name" type="TextEdit" parent="UILayer/Anim"]
layout_mode = 0
offset_left = 10.0
offset_top = 90.0
offset_right = 289.0
offset_bottom = 118.0
focus_mode = 1
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 15
placeholder_text = "Animation Name"
context_menu_enabled = false
emoji_menu_enabled = false
scroll_fit_content_height = true

[node name="Prefix" type="TextEdit" parent="UILayer/Anim"]
layout_mode = 0
offset_left = 10.0
offset_top = 130.0
offset_right = 289.0
offset_bottom = 158.0
focus_mode = 1
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 15
placeholder_text = "XML/.res Animation Prefix"
context_menu_enabled = false
emoji_menu_enabled = false
scroll_fit_content_height = true

[node name="Frames" type="TextEdit" parent="UILayer/Anim"]
layout_mode = 0
offset_left = 10.0
offset_top = 170.0
offset_right = 289.0
offset_bottom = 198.0
focus_mode = 1
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 15
placeholder_text = "Animation Frames (OPTIONAL)"
context_menu_enabled = false
emoji_menu_enabled = false
scroll_fit_content_height = true

[node name="Framerate" type="SpinBox" parent="UILayer/Anim"]
layout_mode = 0
offset_left = 10.0
offset_top = 220.0
offset_right = 97.0
offset_bottom = 251.0
max_value = 48.0
value = 24.0
update_on_text_changed = true
prefix = "FPS:"

[node name="Flip" type="Label" parent="UILayer/Anim"]
layout_mode = 0
offset_left = 170.0
offset_top = 205.0
offset_right = 208.0
offset_bottom = 228.0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 16
text = "Flip"
vertical_alignment = 1

[node name="X" type="CheckBox" parent="UILayer/Anim/Flip"]
layout_mode = 0
offset_left = 45.0
offset_top = -3.0
offset_right = 83.0
offset_bottom = 28.0
tooltip_text = "Lock Camera's position to the cross"
focus_mode = 0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
text = "X"

[node name="Y" type="CheckBox" parent="UILayer/Anim/Flip"]
layout_mode = 0
offset_left = 85.0
offset_top = -3.0
offset_right = 123.0
offset_bottom = 28.0
tooltip_text = "Lock Camera's position to the cross"
focus_mode = 0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
text = "Y"

[node name="Loop" type="CheckBox" parent="UILayer/Anim"]
layout_mode = 0
offset_left = 215.0
offset_top = 230.0
offset_right = 281.0
offset_bottom = 261.0
tooltip_text = "Lock Camera's position to the cross"
focus_mode = 0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
text = "Loop"

[node name="AddAnim" type="Button" parent="UILayer/Anim"]
layout_mode = 0
offset_left = 100.0
offset_top = 280.0
offset_right = 209.0
offset_bottom = 311.0
focus_mode = 0
text = "Add/Update"

[node name="Weee!!" type="Label" parent="UILayer"]
visible = false
offset_left = 10.0
offset_top = 680.0
offset_right = 561.0
offset_bottom = 703.0
theme_override_constants/outline_size = 4
theme_override_fonts/font = ExtResource("4_e8b0o")
theme_override_font_sizes/font_size = 20
text = "Successfully SAVED json at '../characters/data/%s'"

[node name="Cam" type="Camera2D" parent="."]
position = Vector2(624, 360)

[node name="Point" type="Sprite2D" parent="."]
texture_filter = 1
position = Vector2(568, 368)
scale = Vector2(5, 5)
texture = ExtResource("4_7buq4")

[connection signal="pressed" from="UILayer/Save" to="." method="save_pressed"]
[connection signal="text_changed" from="UILayer/ResPath" to="." method="_res_path_updated"]
[connection signal="value_changed" from="UILayer/Main/Shadow/Frame" to="." method="shadow_frame_change"]
[connection signal="color_changed" from="UILayer/Main/Shadow/Color" to="." method="shadow_color_changed"]
[connection signal="pressed" from="UILayer/Main/New" to="." method="new_pressed"]
[connection signal="pressed" from="UILayer/Anim/AddAnim" to="." method="add_anim"]
